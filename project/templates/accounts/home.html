{% extends 'base.html' %}

{% load static %}

{% block content %}

     <!-- Section 3 to Footer  -->
     <div class="mdl-grid bc-site-grey-background">
          <div class="mdl-layout-spacer">  </div>

          <!-- Section 3 to footer Inner Grid -->
           <div class="mdl-cell mdl-cell--12-col bc-about-pages-template-background">

             <!-- Section 3 why to book -->
             <div class="mdl-grid">

               <!-- inner grid -->
               <div class="mdl-cell mdl-cell--12-col">

                 <div class="mdl-grid">
                   <div class="mdl-cell mdl-cell--4-col">
                   <h4 class="bc-about-pages-subtitle bc-no-margin">
                       Profile Name: {{ request.user.first_name }} {{ request.user.last_name }}
                       {% if request.user.account.is_membership is True %}
                       <span class="bc-membership-badge">PREMIUM</span>
                       {% endif %}
                       <div id="tt1" class="icon material-icons">
                           <a href="{% url 'accounts:update_user' %}" class="bc-nounderline" title="edit">edit</a>
                       </div>
                   </h4>
                  </div>
                 </div>
                 <div class="mdl-grid">
                     {% if request.user.account.photo %}
                   <div class="mdl-cell mdl-cell--4-col">
                      <img class="bc-standard-img" src="{{ request.user.account.photo.url }}">
                   </div>
                     {% endif %}


                   <div style="padding-top: 0" class="mdl-cell mdl-cell--7-col mdl-shadow--2dp bc-review-card">
                     <div class="mdl-grid">
                       <div class="mdl-cell mdl-cell--12-col">
                       <h4 class="bc-about-pages-subtitle bc-no-margin">Profile Info
                           <div id="tt1" class="icon material-icons">
                           <a href="{% url 'accounts:update_account' %}" class="bc-nounderline" title="edit">edit</a>
                       </div>
                       </h4>
                      </div>
                     </div>
                       <hr>
                     <div class="mdl-grid">
                       <div class="mdl-cell mdl-cell--6-col">
                         <h4 class="bc-about-pages-para bc-no-margin">Username: {{ request.user.username }}</h4>
                       </div>
                       <div class="mdl-cell mdl-cell--12-col">
                         <h4 class="bc-about-pages-para bc-no-margin">Birthday: {{ request.user.account.birth_date|date:'Y-m-d' }}</h4>
                         <h4 class="bc-about-pages-para bc-no-margin">Email: {{ request.user.email }}</h4>
                         <h4 class="bc-about-pages-para bc-no-margin">Phone number: {{ request.user.account.phone }}</h4>
                         <h4 class="bc-about-pages-para bc-no-margin">Address: {{ request.user.account.address }}</h4>
                         <h4 class="bc-about-pages-para bc-no-margin">Passport number: {{ request.user.account.passport_number }}</h4>
                       </div>
                         <div class="mdl-cell mdl-cell--6-col">
                         <h4 class="bc-about-pages-para bc-no-margin">Passpost date: {{ request.user.account.passport_issue_date|date:'Y-m-d' }}</h4>
                        </div>
                        <div class="mdl-cell mdl-cell--6-col">
                         <h4 class="bc-about-pages-para bc-no-margin">Passpost date: {{ request.user.account.passport_expire_date|date:'Y-m-d' }}</h4>
                       </div>
                       <div class="mdl-cell mdl-cell--12-col">
                         <h4 class="bc-about-pages-para bc-no-margin">Emergency Contact: {{ request.user.account.emergency_contact }}</h4>
                       </div>
                     </div>
                       <hr>
                       <div class="mdl-grid">
                       <div class="mdl-cell mdl-cell--12-col">
                       <h4 class="bc-about-pages-subtitle bc-no-margin">Billing Info</h4>
                      </div>
                     </div>
                     <div class="mdl-grid">
                       <div class="mdl-cell mdl-cell--12-col">
                         <h4 class="bc-about-pages-para bc-no-margin">Total Balance Due</h4>
                         <h4 class="bc-about-pages-para bc-no-margin">Months left</h4>
                         <h4 class="bc-about-pages-para bc-no-margin">Amount due per month</h4>
                         <h4 class="bc-about-pages-para bc-no-margin">Amount paid so far</h4>
                         <h4 class="bc-about-pages-para bc-no-margin">Amount due now</h4>

                       </div>
                     </div>
                   </div>

                   <div class="mdl-layout-spacer">  </div>

                 </div>

               <div class="mdl-grid">
                   <div class="mdl-cell mdl-cell--3-col">
                      <h4 class="bc-about-pages-subtitle">Upcoming Trips2</h4>
                   </div>
                 </div>
                <div class="mdl-grid">
{% for trip in user_trips  %}
                   <div class="mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--12-col-phone">




               <div class="demo-card-square mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title mdl-card--expand">
    <h2 class="mdl-card__title-text">{{ trip.title }}</h2>
  </div>

   <div class="mdl-card__supporting-text">
    <strong>{{ trip.title }}</strong>
  </div>
  <div class="mdl-card__supporting-text mdl-card--border">
    {{ trip.description|truncatewords:18 }}
  </div>
   <div class="mdl-card__supporting-text mdl-card--border">
    <strong>Price: {{ trip.price }}$</strong>
  </div>
                   <div class="mdl-card__supporting-text mdl-card--border">
    <strong>Additional excursions:</strong>
                       {% if trip.excursion %}
                       Yes
                           {% else %}
                           No
                       {% endif %}
{{ trip.excursion_set.all }}
  </div>
                   <div class="mdl-card__supporting-text">
                       <strong>Dates:</strong> {{ trip.departure|date:"d.m.Y" }} - {{ trip.arrival|date:"d.m.Y" }}
  </div>
  <div class="mdl-card__actions mdl-card--border">
    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
      View Description
    </a>
  </div>
</div>
                   </div>
{% endfor %}


               </div>

                 <div class="mdl-grid">
                   <div class="mdl-cell mdl-cell--3-col">
                      <h4 class="bc-about-pages-subtitle">Upcoming Trips</h4>
                   </div>
                 </div>
                <div class="mdl-grid">
{% for o in request.user.account.trips.all  %}
                   <div class="mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--12-col-phone">




               <div class="demo-card-square mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title mdl-card--expand">
    <h2 class="mdl-card__title-text">{{ o.title }}</h2>
  </div>

   <div class="mdl-card__supporting-text">
    <strong>{{ o.title }}</strong>
  </div>
  <div class="mdl-card__supporting-text mdl-card--border">
    {{ o.description|truncatewords:18 }}
  </div>
   <div class="mdl-card__supporting-text mdl-card--border">
    <strong>Price: {{ o.price }}$</strong>
  </div>
                   <div class="mdl-card__supporting-text mdl-card--border">
    <strong>Additional excursions:</strong>
                       {% if o.excursion %}
                       Yes
                           {% else %}
                           No
                       {% endif %}
{{ trip.excursion_set.all }}
  </div>
                   <div class="mdl-card__supporting-text">
                       <strong>Dates:</strong> {{ o.departure|date:"d.m.Y" }} - {{ o.arrival|date:"d.m.Y" }}
  </div>
  <div class="mdl-card__actions mdl-card--border">
    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
      View Description
    </a>
  </div>
</div>
                   </div>
{% endfor %}


               </div>

                 <div class="mdl-grid">
                   <div class="mdl-cell mdl-cell--3-col">
                      <h4 class="bc-about-pages-subtitle">Past Trips</h4>
                   </div>
                 </div>
                 <div class="mdl-grid">
{% for trip in user_past_trips  %}
                   <div class="mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--12-col-phone">




               <div class="demo-card-square mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title mdl-card--expand">
    <h2 class="mdl-card__title-text">{{ trip.title }}</h2>
  </div>

   <div class="mdl-card__supporting-text">
    <strong>{{ trip.title }}</strong>
  </div>
  <div class="mdl-card__supporting-text mdl-card--border">
    {{ trip.description|truncatewords:18 }}
  </div>
   <div class="mdl-card__supporting-text mdl-card--border">
    <strong>Price: {{ trip.price }}$</strong>
  </div>
                   <div class="mdl-card__supporting-text mdl-card--border">
    <strong>Additional excursions:</strong>
                       {% if trip.excursion %}
                       Yes
                           {% else %}
                           No
                       {% endif %}
{{ trip.excursion_set.all }}
  </div>
                   <div class="mdl-card__supporting-text">
                       <strong>Dates:</strong> {{ trip.departure|date:"d.m.Y" }} - {{ trip.arrival|date:"d.m.Y" }}
  </div>
  <div class="mdl-card__actions mdl-card--border">
    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
      View Description
    </a>
  </div>
</div>
                   </div>
{% endfor %}


               </div>

               <div class="mdl-grid">
                   <div class="mdl-cell mdl-cell--3-col">
                      <h4 class="bc-about-pages-subtitle">Available now trips</h4>
                   </div>
                 </div>

               <style>
.demo-card-square.mdl-card {
  width: 280px;
  height: 500px;
}
.demo-card-square > .mdl-card__title {
  color: #fff;
  background:
    url('../assets/demos/dog.png') bottom right 15% no-repeat #46B6AC;
}
                   .demo-card-wide.mdl-card {
  width: 512px;
}
.demo-card-wide > .mdl-card__title {
  color: #fff;
  height: 176px;
  background: url('../assets/demos/welcome_card.jpg') center / cover;
}
.demo-card-wide > .mdl-card__menu {
  color: #fff;
}
</style>

               <div class="mdl-grid">
{% for trip in trips  %}
                   <div class="mdl-cell mdl-cell--4-col mdl-cell--8-col-tablet mdl-cell--12-col-phone">




               <div class="demo-card-square mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title mdl-card--expand">
    <h2 class="mdl-card__title-text">{{ trip.title }}</h2>
  </div>

   <div class="mdl-card__supporting-text">
    <strong>{{ trip.title }}</strong>
  </div>
  <div class="mdl-card__supporting-text mdl-card--border">
    {{ trip.description|truncatewords:18 }}
  </div>
   <div class="mdl-card__supporting-text mdl-card--border">
    <strong>Price: {{ trip.price }}$</strong>
  </div>
                   <div class="mdl-card__supporting-text mdl-card--border">
    <strong>Additional excursions:</strong>
                       {% if trip.excursions.all %}
                       Yes
                           {% else %}
                           No
                       {% endif %}
{#{{ trip.excursions.all }}#}
  </div>
                   <div class="mdl-card__supporting-text">
                       <strong>Dates:</strong> {{ trip.departure|date:"d.m.Y" }} - {{ trip.arrival|date:"d.m.Y" }}
  </div>
  <div class="mdl-card__actions mdl-card--border">
    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
      View Description
    </a>
  </div>
</div>
                   </div>
{% endfor %}


               </div>




               </div>
              </div>
          </div>
<div class="mdl-layout-spacer">  </div>
    </div>



    {% endblock %}
